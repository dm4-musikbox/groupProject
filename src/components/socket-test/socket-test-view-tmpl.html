<h1 style="text-align: center">Musikbox socket functions</h1>

<main style="display: flex; justify-content: space-around">
    <div style="width: 60vw">
        <h2>Channel data</h2>
        <div>
          <ul>
            <li ng-repeat="( key, value ) in $ctrl.channel">
                {{ key }} : {{ value }}
            </li>
          </ul>
        </div>

        <h2>Channel status</h2>
        <div>{{ $ctrl.channelStatus }}</div>
    </div>

    <div style="width: 40vw">

        <h3>Message functions</h3>
        <input type="text" ng-model="message._id" placeholder="message id">
        <br />
        <input type="text" ng-model="message.type" placeholder="message type">
        <br/>
        <input type="text" ng-model="message.content" placeholder="message content">
        <br />
        <input type="submit" ng-click="$ctrl.sendAndSaveMessage( message )" value="Send and save message">
        <input type="submit" ng-click="$ctrl.updateMessage( message )" value="Update message">
        <input type="submit" ng-click="$ctrl.deleteMessage( message._id )" value="Delete message">

        <hr />

        <h3>Channel functions</h3>
        <input type="text" placeholder="channel id" ng-model="channel._id">
        <br />
        <input type="text" placeholder="user id" ng-model="user._id">
        <br />
        <input type="submit" ng-click="$ctrl.enterChannel( channel._id, user._id )" value="Enter">
        <input type="submit" ng-click="$ctrl.leaveChannel( channel._id, user._id )" value="Leave">
        <input type="submit" ng-click="$ctrl.subscribeToChannel( channel._id, user._id )" value="Subscribe">
        <input type="submit" ng-click="$ctrl.unsubscribeFromChannel( channel._id, user._id )" value="Unsubscribe">


        <hr />

        <h3>Recording functions</h3>

        <input type="text" ng-model="recording._id" placeholder="recording id">
        <br />
        <input type="text" ng-model="recording.s3Bucket" placeholder="recording s3Bucket">
        <br />
        <input type="text" ng-model="recording.s3Key" placeholder="recording s3Key">
        <br />
        <textarea name="name" rows="8" cols="40" ng-model="recording.description" placeholder="recording description"></textarea>
        <br />
        <input type="submit" value="Update recording" ng-click="$ctrl.updateRecording( recording )">
        <input type="submit" value="Delete recording" ng-click="$ctrl.deleteRecording( recording )">

        <hr />

        <recorder-component
            channel-id="$ctrl.channelId"
            user-id="$ctrl.userId"
        >
        </recorder-component>

        <hr />

    </div>
</main>
